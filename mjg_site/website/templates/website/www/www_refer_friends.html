{% extends "website/inc/www_base.html" %}
{% load staticfiles %}

{# page title #}
{% block title %}MotorJab Garage | Presentaci un tuo amico, tutti e due riceverete un premio{% endblock %}

{# page description #}
{% block description %}{% endblock %}

{# custom page css block #}
{% block custom_css %}
<style>
	.coupon_image_container { margin-top: 40px; margin-bottom: 20px; }
	.numbers-sections { position: relative; }
	.numbers-sections div.number-box { position: relative; display: table; height: 120px; width: 100%; }
	.numbers-sections .number { z-index: -1; font-size: 200px; color: #aaa; height: auto; line-height: 0.6; width: 100%; text-align: center; }
	.numbers-sections h4 { background-color:#ffffff; color: #383838; font-size: 12px !important; font-weight: bold; z-index: 10; top: 21%; line-height: 2; width: 100%; text-align: center; text-transform: uppercase; display: table-cell; vertical-align: middle; position: absolute; }

	.counter { text-align: center; }
	.counter .number { display: inline; position: relative; line-height: 1; font-weight: 700; }
	.counter .text { margin-top: 5px; }
	.counter p, .counter .text { margin: 0; text-transform: uppercase; font-size: 14px; font-weight: 600; }
	.counter .percent { display: inline-block; position: absolute; top: 22%; font-size: .2em; font-weight: 400; }
	.gecko .counter .percent { right: 0.5em; }
	.h2_prize { text-align: center; font-size: 20px; color: #383838; font-style: normal; font-weight: 400; text-transform: uppercase; margin-top: 0px; }
	.page_title_separator { margin-top: 80px; }
	.page_title_separator h2 { margin-bottom: 50px; }
	.how_to_text { text-align: center; margin-top: 10px; }
	.prize_hint { text-align: center; margin-top: 20px; margin-bottom: 0px;	}
	.percent_prize_text { color: rgb(102, 102, 102); font-size: 20px; visibility: visible; }
</style>
{% endblock %}
{# Custom page script block #}
{% block custom_js %}
{# howto: https://validatejs.org #}
<script src="{% static "website/js/vendor/validate.min.js" %}"></script>
{% endblock %}

{# menu active element #}
{% block navigation_active_get_offers %}active{% endblock %}

{# container content #}
{% block www_main_content %}
<div class="page_header_block contacts_header_block">
	<div><h1>Presentaci un amico</h1></div>
	<div><h4>C'è un premio per entrambi</h4></div>
</div>
<div class="container-fluid info_block info_block_color1">
	<div class="row">
		<div class="col-md-10 col-md-offset-1">
			<div class="col-xs-12 padding-xs-only padding-sm-only">
				{# messages block #}
				<div class="error_container"></div>
				{% if form.errors %}
					<div class="alert alert-danger">
						<h4>Controlla questi errori</h4>
						<ul>
							{% for field in form %}
								{% for error in field.errors %}
									<li>{{ field.label|escape }}: {{ error|escape }}</li>
								{% endfor %}
							{% endfor %}
							{% for form_error in form.non_field_errors %}
								<li>{{ form_error }}</li>
							{% endfor %}
						</ul>
					</div>
				{% elif messages %}
					{% for message in messages %}
						{% if message.tags == "success" %}
							<div class="alert alert-success">
								{{ message|safe }}
							</div>
						{% elif message.tags == "error" %}
							<div class="alert alert-danger">
								{{ message|safe }}
							</div>
						{% endif %}
					{% endfor %}
				{% endif %}
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-10 col-md-offset-1">
			<div class="col-sm-6 padding-xs-only-60 padding-sm-only-60">
				<h2 class="h2_prize">VANTAGGI PER TE</h2>
				<div class="counter ">
					<div class="number" data-animate="1" data-animationstart="0" data-animationduration="2600" data-animationstep="1" style="color: #fab000;font-size:150px;">
						20<span class="percent animate animated fadeInDown" style="color: rgb(102, 102, 102); visibility: visible;">%</span>
					</div>
					<div class="text animate animated fadeInUp percent_prize_text">Sconto sui nostri servizi</div>
				</div>
				<p class="prize_hint">Ti riserviamo un coupon, contenente a scelta, un buono sconto del <strong><span class="shortcode-highlight" style="color:#666666; background-color:#fab000;">20%</span></strong> oppure un <strong><span class="shortcode-highlight" style="color:#666666; background-color:#fab000;">checkup gratuito</span></strong>, da utilizzare presso di noi.<br>
			</div>
			<div class="col-sm-6">
				<h2 class="h2_prize">VANTAGGI PER IL TUO TUO AMICO</h2>
				<div class="counter ">
					<div class="number" data-animate="1" data-animationstart="0" data-animationduration="2600" data-animationstep="1" style="color: #fab000;font-size:150px;">
						15<span class="percent animate animated fadeInDown" style="color: rgb(102, 102, 102); visibility: visible;">%</span>
					</div>
					<div class="text animate animated fadeInUp percent_prize_text">Sconto sui nostri servizi</div>
				</div>
				<p class="prize_hint">Il tuo amico riceverà istantaneamente un buono sconto del <strong><span class="shortcode-highlight" style="color:#666666; background-color:#fab000;">15%</span></strong> da utilizzare presso di noi.<br>
			</div>
		</div>
	</div>
</div>

<div class="row page_title_separator">
	<div class="col-sm-12 text-center">
		<h2>Come funziona?</h2>
		<div class="row">
				<div class="col-sm-3 col-xs-6 padding-xs-only-60 padding-sm-only-60">
					<div class="box-sections numbers-sections animated fadeIn" data-animate="fadeIn" data-delay="100" style="opacity: 1;">
						<div class="number-box">
							<div class="number">1</div>
							<h4>INVIA LA RICHIESTA</h4>
						</div>
						<div class="clearfix"></div>
						<p class="how_to_text">Compila il modulo che trovi qui sotto con i tuoi dati e quelli del tuo amico.</p>
					</div>
					<p></p>
				</div>
				<div class="col-sm-3 col-xs-6 padding-xs-only-60 padding-sm-only-60">
					<div class="box-sections numbers-sections animated fadeIn" data-animate="fadeIn" data-delay="100" style="opacity: 1;">
						<div class="number-box">
							<div class="number">2</div>
							<h4>IL TUO AMICO RICEVE LO SCONTO</h4>
						</div>
						<div class="clearfix"></div>
						<p class="how_to_text">Il tuo amico riceverà istantaneamente lo sconto del 15% da utilizzare presso di noi.</p>
					</div>
				</div>
				<div class="col-sm-3 col-xs-6">
					<div class="box-sections numbers-sections animated fadeIn" data-animate="fadeIn" data-delay="100" style="opacity: 1;">
						<div class="number-box">
							<div class="number">3</div>
							<h4>RICEVI IL BUONO</h4>
						</div>
						<div class="clearfix"></div>
						<p class="how_to_text">Appena il tuo amico utilizzerà lo sconto presso di noi, tu riceverai il tuo buono sconto.</p>
					</div>
				</div>
				<div class="col-sm-3 col-xs-6 last">
					<div class="box-sections numbers-sections animated fadeIn" data-animate="fadeIn" data-delay="100" style="opacity: 1;">
						<div class="number-box">
							<div class="number">4</div>
							<h4>PRESENTACI UN ALTRO AMICO</h4>
						</div>
						<div class="clearfix"></div>
						<p class="how_to_text">Presentaci un altro amico per ricevere altri buoni sconto!</p>
					</div>
				</div>
		</div>
	</div>
</div>

<div class="container-fluid info_block info_block_color1">
	<div class="row">
		<div class="col-md-10 col-md-offset-1">
			<h2 class="text-center">Presentaci il tuo amico</h2>
			<div class="col-md-12 padding-xs-only padding-sm-only">
				<p>Compila il modulo sottostante per proporci un tuo amico.<br /><b>Piccolo consiglio</b>: per aumentarne l'efficacia avverti il tuo amico che verrà contattato tramite email da noi!</p>
			</div>
			<div class="col-md-12">
				<div class="visible-sm-inline-block visible-xs-inline-block col-xs-12 block-vspace"></div>
					<div class="well bs-component">
						<form class="form-horizontal validateFormAction" name="contact_form" method="POST" action="">
							{% csrf_token %}
							<input type="hidden" name="contact_form_sent" value="1">
							<fieldset>
								<legend>I tuoi dati</legend>
								<div class="form-group formGroupAction account_first_nameGroup">
									<label for="account_first_name" class="col-lg-2 control-label">{{ form.account_first_name.label }}&nbsp;*</label>
									<div class="col-lg-10">
										<input id="account_first_name" name="account_first_name" class="form-control" placeholder="{{ form.account_first_name.field.widget.attrs.placeholder }}" type="text" value="{{ user_info_dict.first_name }}" required>
									</div>
								</div>
								<div class="form-group formGroupAction account_last_nameGroup">
									<label for="account_last_name" class="col-lg-2 control-label">{{ form.account_last_name.label }}&nbsp;*</label>
									<div class="col-lg-10">
										<input id="account_last_name" name="account_last_name" class="form-control" placeholder="{{ form.account_last_name.field.widget.attrs.placeholder }}" value="{{ user_info_dict.last_name }}" type="text">
									</div>
								</div>
								<legend>I dati del tuo amico</legend>
								<div class="form-group formGroupAction friend_first_nameGroup">
									<label for="friend_first_name" class="col-lg-2 control-label">{{ form.friend_first_name.label }}&nbsp;*</label>
									<div class="col-lg-10">
										<input id="friend_first_name" name="friend_first_name" class="form-control" placeholder="{{ form.friend_first_name.field.widget.attrs.placeholder }}" value="{{ post.friend_first_name }}" type="text">
									</div>
								</div>

								<div class="form-group formGroupAction friend_emailGroup">
									<label for="friend_email" class="col-lg-2 control-label">{{ form.friend_email.label }}&nbsp;*</label>
									<div class="col-lg-10">
										<input id="friend_email" name="friend_email" class="form-control" placeholder="{{ form.friend_email.field.widget.attrs.placeholder }}" type="email" value="{{ post.friend_email }}" required>
									</div>
								</div>
								<div class="form-group text-md-right">
									<div class="col-lg-10 col-lg-offset-2">
										<button type="submit" class="btn btn-primary btn-lg formSendButtonClickAction">Proponi amico</button>
									</div>
								</div>
							</fieldset>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function(){
	$(document).on("click", ".formSendButtonClickAction", function(){

		var returnVar = false;
		// lavora sui "name" NON sugli "id"
		var constraints = {
			account_first_name: {
				presence: true,
			},
			account_last_name: {
				presence: true,
			},
			friend_first_name: {
				presence: true,
			},
			friend_email: {
				presence: true,
				email: true,
			},
		};

		returnVar = validateForm(constraints);

		return returnVar;
	});
});
</script>
{% endblock %}
