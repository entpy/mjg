{% extends "website/inc/www_base.html" %}
{% load staticfiles %}

{# page title #}
{% block title %}Hai dubbi o domande? Contattaci | Un unico centro, tanti servizi per la tua auto{% endblock %}

{# page description #}
{% block description %}Hai dubbi o domande? Contattaci, ti risponderemo nel più breve tempo possibile. MotorJab Garage è il tuo centro di fiducia per la tua auto a Torino{% endblock %}

{# custom page css block #}
{% block custom_css %}
<style type="text/css">
	#footer { margin-top: 0px; }
	.contact_form_textarea { resize: none; }
	.info_block { margin-bottom: 80px; }
	.google_maps_iframe { float: left; width: 100%; margin-bottom: 50px; }
</style>
{% endblock %}
{# Custom page script block #}
{% block custom_js %}
{# howto: https://validatejs.org #}
<script src="{% static "website/js/vendor/validate.min.js" %}"></script>
{% endblock %}

{# menu active element #}
{% block navigation_active_contacts %}active{% endblock %}

{# container content #}
{% block www_main_content %}
<div class="page_header_block contacts_header_block">
	<div><h1>Contattaci</h1></div>
</div>
<div class="container-fluid info_block info_block_color1">
	<div class="row">
		<div class="col-md-10 col-md-offset-1">
			<div class="col-xs-12 padding-xs-only padding-sm-only">
				{# messages block #}
				<div class="error_container"></div>
				{% if form.errors %}
					<div class="alert alert-danger">
						<h4>Controlla questi errori</h4>
						<ul>
							{% for field in form %}
								{% for error in field.errors %}
									<li>{{ field.label|escape }}: {{ error|escape }}</li>
								{% endfor %}
							{% endfor %}
							{% for form_error in form.non_field_errors %}
								<li>{{ form_error }}</li>
							{% endfor %}
						</ul>
					</div>
				{% elif messages %}
					{% for message in messages %}
						{% if message.tags == "success" %}
							<div class="alert alert-success">
								{{ message|safe }}
							</div>
						{% endif %}
					{% endfor %}
				{% endif %}
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-10 col-md-offset-1">
			<div class="col-md-offset-1 col-md-7 col-md-push-4 padding-xs-only padding-sm-only">
				<div class="well bs-component">
					<form class="form-horizontal validateFormAction" name="contact_form" method="POST" action="">
						{% csrf_token %}
						<fieldset>
							<div class="form-group formGroupAction first_nameGroup">
								<label for="first_name" class="col-lg-2 control-label">Nome&nbsp;*</label>
								<div class="col-lg-10">
									<input id="first_name" name="first_name" class="form-control" placeholder="Inserisci il tuo nome" type="text" required>
								</div>
							</div>
							<div class="form-group formGroupAction emailGroup">
								<label for="email" class="col-lg-2 control-label">Email&nbsp;*</label>
								<div class="col-lg-10">
									<input id="email" name="email" class="form-control" placeholder="Inserisci la tua email" type="email" required>
								</div>
							</div>
							<div class="form-group formGroupAction mobile_numberGroup">
								<label for="mobile_number" class="col-lg-2 control-label">Telefono&nbsp;*</label>
								<div class="col-lg-10">
									<input id="mobile_number" name="mobile_number" class="form-control no-spinners" placeholder="Inserisci il tuo numero di telefono" type="number" required>
								</div>
							</div>
							<div class="form-group formGroupAction textGroup">
								<label for="text" class="col-lg-2 control-label">Messaggio&nbsp;*</label>
								<div class="col-lg-10">
									<textarea id="text" name="text"class="form-control contact_form_textarea" placeholder="Scrivi qui la tua richiesta..." rows="3" required></textarea>
								</div>
							</div>
							<div class="form-group text-md-right">
								<div class="col-lg-10 col-lg-offset-2">
									<button type="submit" class="btn btn-primary btn-lg formSendButtonClickAction">Richiedi informazioni</button>
								</div>
							</div>
						</fieldset>
					</form>
				</div>
			</div>
			<div class="col-md-4 col-md-pull-8 text-xs-center text-md-left">
				<div class="visible-sm-inline-block visible-xs-inline-block col-xs-12 block-vspace"></div>
					<div class="mu-contact-right">
						<div class="mu-contact-widget">
							<h4>Dove puoi trovarci</h4>
							<address>
								<p><i class="ion-ios-call"></i>&nbsp; 011-546928</p>
								<p><i class="ion-ios-at"></i>&nbsp;<a title="La nostra email" href="mailto:info@motorjab.it">info@motorjab.it</a></p>
								<p><i class="ion-ios-pin"></i>&nbsp;Via Bellini, 7, 10121 Torino TO</p>
							</address>
						</div>
						<div class="mu-contact-widget">
							<h4>Orari</h4>
							<address>
								<p><span>Lunedì - Venerdì:</span><br /><b>8.30 - 12.00 / 14.00 - 18.30</b></p>
								<p><span>Sabato:</span> <b>Chiuso</b></p>
								<p><span>Domenica:</span> <b>Chiuso</b></p>
							</address>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<iframe class="google_maps_iframe" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4739.290115330831!2d7.670063568528338!3d45.0655361808836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47886d1364c06c41%3A0x1b7cfdd92a867de3!2sd%2C+Via+Vincenzo+Bellini%2C+7%2C+10121+Torino+TO!5e0!3m2!1sit!2sit!4v1540503472282" width="100%" height="450" frameborder="0" style="border:0" allowfullscreen></iframe>
{% endblock %}

{% block extra_js %}
<script>
$(document).ready(function(){
	$(document).on("click", ".formSendButtonClickAction", function(){
		// lavora sui "name" NON sugli "id"
		var constraints = {
			first_name: {
				presence: true,
			},
			email: {
				presence: true,
				email: true,
			},
			mobile_number: {
				presence: true,
				numericality: {
					onlyInteger: true,
				},
			},
			text: {
				presence: true,
			},
		};
		return validateForm(constraints);
	});
});
</script>
{% endblock %}
